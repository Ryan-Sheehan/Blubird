{"code":"!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=1)}([function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Ribbon=void 0;var i=function(){function t(t){this.rootPos=100*Math.random(),this.states={start:{type:\"start\",start:{thickness:0,top:60,left:0},end:{thickness:0,top:60,left:100},wave:{amplitude:0,frequency:.008,transitionSpeed:.5}},home:{type:\"home\",start:{thickness:30,top:50,left:0},end:{thickness:15,top:60,left:100},wave:{amplitude:40,frequency:.015,transitionSpeed:-.5}},selected:{type:\"selected\",start:{thickness:15,top:80,left:0},end:{thickness:24,top:25,left:100},wave:{amplitude:50,frequency:.004,transitionSpeed:.5}}},this.size={svg:{width:window.innerWidth,height:window.innerHeight}},this.currentState=JSON.parse(JSON.stringify(this.states.start)),this.rows=3,this.lines=[],this.blocks=[],this.defaultRestSpeed=.009,this.speed={changeState:2,rest:1},this.waveLineAttr={fill:\"none\",stroke:\"white\",strokeWidth:1},this.svg=t}return t.prototype.init=function(){var t=this;this.blocks=[{type:\"menu\",id:\"1\",title:\"Products\",position:{current:105,target:5,home:5},width:20,row:2},{type:\"menu\",id:\"2\",title:\"Blog\",position:{current:137,target:37,home:37},width:10,row:3},{type:\"menu\",title:\"About Us\",id:\"3\",position:{current:147,target:47,home:47},width:20,row:1},{type:\"menu\",id:\"4\",title:\"Contact\",position:{current:175,target:75,home:75},width:15,row:2},{type:\"back\",id:\"back\",title:\"<-- Back\",position:{current:-100,target:-100,home:-100},width:10,row:1}],this.ribbon=this.svg.polygon().attr({fill:\"red\",stroke:\"none\"}),this.resizeSVG(),this.tick(0),this.updateRibbon(),setTimeout(function(){t.setState(t.states.home)},1e3)},t.prototype.updateRibbon=function(){var t=this,e=this.currentState.wave.frequency,s=this.rootPos,i=this.currentState.wave.amplitude,o=this.size.svg.width/100*this.currentState.start.left,n=this.size.svg.height/100*this.currentState.start.top,r=this.size.svg.width/100*this.currentState.end.left,h=this.size.svg.height/100*this.currentState.end.top,a=this.size.svg.height/100*this.currentState.start.thickness/2,c=this.size.svg.height/100*this.currentState.end.thickness/2;this.guidePath=this.getGuidePath(e,s,i,o,n,r,h);var p=this.getPathOffset(this.guidePath,-a,-c);if(this.paths=[p],this.rows>1)for(var u=this.size.svg.height/100*this.currentState.start.thickness,g=this.size.svg.height/100*this.currentState.end.thickness,l=1;l<this.rows;l++){var d=0-u/2+u/this.rows*l,v=0-g/2+g/this.rows*l,f=this.getPathOffset(this.guidePath,d,v);this.paths.push(f),this.lines[l-1]||this.lines.push(this.svg.path().attr(this.waveLineAttr)),this.lines[l-1].attr({d:this.getWavePathString(f)})}var k=this.getPathOffset(this.guidePath,a,c);this.paths.push(k),this.ribbon.attr({points:this.getWavePolygon(p,k.slice(0).reverse())});for(var w=0;w<this.blocks.length;w++){var b=this.blocks[w],S=this.size.svg.width/100*b.position.current,y=this.size.svg.width/100*(b.position.current+b.width);S>this.size.svg.width?S=this.size.svg.width:S<0&&(S=0),y>this.size.svg.width?y=this.size.svg.width:y<0&&(y=0);var m=this.paths[b.row-1],P=this.paths[b.row],z=m.slice(S,y),x=P.slice(S,y);if(z.length>1&&x.length>1){var M=this.getBlockFontSize(z,x,10),O=this.getWavePolygon(z,x.reverse());if(b.svg||(b.svg={},b.svg.group=this.svg.group().attr({class:\"block\",id:b.id}),b.svg.group.click(function(e){t.onBlockClick(e)}),b.svg.box=b.svg.group.polygon().attr({fill:\"white\",stroke:\"none\"}),b.svg.mask=this.svg.polygon().attr({fill:\"white\",stroke:\"none\"}).toDefs(),b.svg.textpath=b.svg.group.path().attr({fill:\"none\",stroke:\"white\"}).toDefs(),b.svg.text=b.svg.group.text(0,0,b.title).attr({textpath:b.svg.textpath,mask:b.svg.mask})),b.svg.box.attr({points:O}),b.svg.mask.attr({points:O}),b.svg.text.attr({fontSize:M}),y-S>40){var _=this.getPathOffset(P.slice(S+20,y-20),-10,-10);if(_.length>2){var B=this.getWavePathString(_);b.svg.textpath.attr({d:B})}}}else b.svg&&(b.svg.group.remove(),b.svg.mask.remove(),b.svg=null)}},t.prototype.getGuidePath=function(t,e,s,i,o,n,r){for(var h=[],a=n-i,c=i,p=o,u=r-o;c++<=a;)p=Math.sin(c*t+e),h.push([c,o+u/a*(a-(a-c))+(p*s/2+s/2)]);return h},t.prototype.getPathOffset=function(t,e,s){if(t.length){for(var i=t[0][0],o=(t[0][1],t[t.length-1][0]),n=(t[t.length-1][1],e-s),r=i-o,h=[],a=0;a<t.length;a++){var c=[t[a][0],t[a][1]];c[1]+=e+n/r*(r-(r-a)),h.push(c)}return h}return[]},t.prototype.getBlockFontSize=function(t,e,s,i,o){void 0===i&&(i=40),void 0===o&&(o=10);var n=Math.abs(t[0][1]-e[0][1]),r=Math.abs(t[t.length-1][1]-e[e.length-1][1]),h=n<r?n:r;return(h-=2*s)<o&&(h=o),h>i&&(h=i),h},t.prototype.getWavePathString=function(t){return\"M\"+_.map(t,function(t){return t.join(\",\")}).join(\" \")},t.prototype.getWavePolygon=function(t,e){for(var s=t.concat(e),i=\"\",o=0;o<s.length;o++)i+=s[o].join(\" \")+\" \";return i},t.prototype.onBlockClick=function(t){for(var e=null,s=0;s<t.path.length;s++)if(\"g\"==t.path[s].nodeName){e=t.path[s].id;break}e&&this.selectBlock(e)},t.prototype.resizeSVG=function(){this.svg.attr({width:this.size.svg.width,height:this.size.svg.height})},t.prototype.onResize=function(t){this.size.svg.width=t.target.innerWidth,this.size.svg.height=t.target.innerHeight,this.svg&&this.resizeSVG()},t.prototype.tick=function(t){var e=this;t%2==0&&(this.rootPos+=this.speed.rest,this.updateRibbon()),requestAnimationFrame(function(){e.tick(t+1)})},t.prototype.toogleState=function(){this.setState(\"home\"==this.currentState.type?this.states.selected:this.states.home)},t.prototype.selectBlock=function(t){if(\"back\"===t)return this.deselectBlock();var e=100;for(var s in this.blocks)this.blocks[s].id===t||\"back\"===this.blocks[s].type?(e=this.blocks[s].position.current,this.blocks[s].position.target=\"back\"===this.blocks[s].type?10:75):this.blocks[s].position.target=this.blocks[s].position.current<e?this.blocks[s].position.home-100:this.blocks[s].position.home+100;this.setState(this.states.selected)},t.prototype.deselectBlock=function(){for(var t in this.blocks)this.blocks[t].position.target=\"menu\"==this.blocks[t].type?this.blocks[t].position.home:-100;this.setState(this.states.home)},t.prototype.setState=function(t){var e=Power2.easeInOut;this.currentState.type=t.type,TweenMax.to(this.currentState.start,this.speed.changeState,{top:t.start.top,left:t.start.left,thickness:t.start.thickness,ease:e}),TweenMax.to(this.currentState.end,this.speed.changeState,{top:t.end.top,left:t.end.left,thickness:t.end.thickness,ease:e}),TweenMax.to(this.currentState.wave,this.speed.changeState,{amplitude:t.wave.amplitude,frequency:t.wave.frequency,ease:e}),this.currentState.wave.transitionSpeed>this.speed.rest?(TweenMax.to(this.speed,this.speed.changeState/2,{rest:t.wave.transitionSpeed,ease:Power2.easeIn}),TweenMax.to(this.speed,this.speed.changeState/2,{rest:this.defaultRestSpeed,delay:this.speed.changeState/2,ease:Power2.easeOut})):TweenMax.to(this.speed,this.speed.changeState,{rest:this.defaultRestSpeed,ease:e});for(var s=0;s<this.blocks.length;s++){var i=this.blocks[s];i.position.current!==i.position.target&&TweenMax.to(i.position,this.speed.changeState,{current:i.position.target,ease:e})}},t}();e.Ribbon=i,new i(Snap(\"#svg\")).init()},function(t,e,s){\"use strict\";s(!function(){var t=new Error('Cannot find module \"./style.css\"');throw t.code=\"MODULE_NOT_FOUND\",t}());var i,o=(i=s(0))&&i.__esModule?i:{default:i};document.body.appendChild(function(){(t=document.createElement(\"div\")).classList.add(\"container\");var t=document.createElement(\"svg\");return svg.id=\"svg\",new o.default(Snap(\"#svg\")).init(),t}())}]);","extractedComments":[]}